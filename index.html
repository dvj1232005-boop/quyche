<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÑ An Quy Ch·∫ø ‚Äì ƒêƒÉng k√Ω ca l√†m</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#9b1c1f">

<style>
:root{
  --bg:linear-gradient(180deg,#0b3d2e,#145a32);
  --card:#ffffff;
  --accent:#b71c1c;
  --green:#1b5e20;
}

/* ===== DARK / LIGHT AUTO ===== */
body.light{
  --bg:linear-gradient(180deg,#f5f7fa,#e4e7eb);
}
body.dark{
  --bg:linear-gradient(180deg,#0b3d2e,#145a32);
}

body{
  margin:0;
  font-family:system-ui,-apple-system;
  background:var(--bg);
  min-height:100vh;
  display:flex;
  justify-content:center;
}

/* ===== INTRO ===== */
#splash{
  position:fixed;
  inset:0;
  background:#9b1c1f;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
  animation:fadeOut .8s ease forwards;
  animation-delay:2.5s;
}
#splash-inner{
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
}
#splash img{
  width:150px;
  animation:logoPop 1.2s ease;
}
.brand{
  color:#fff;
  letter-spacing:4px;
  margin-top:16px;
  font-size:18px;
  opacity:.9;
}

/* intro anim */
@keyframes logoPop{
  from{opacity:0;transform:scale(.6)}
  to{opacity:1;transform:scale(1)}
}
@keyframes fadeOut{
  to{opacity:0;visibility:hidden}
}

/* loading */
.loading{
  width:160px;
  height:4px;
  background:rgba(255,255,255,.25);
  border-radius:999px;
  overflow:hidden;
  margin-top:22px;
}
.loading span{
  display:block;
  height:100%;
  width:0;
  background:#fff;
  animation:load 2.5s linear forwards;
}
@keyframes load{to{width:100%}}

/* steam */
.steam{
  position:absolute;
  bottom:120px;
  width:6px;
  height:40px;
  background:rgba(255,255,255,.35);
  border-radius:50%;
  filter:blur(2px);
  animation:steamUp 3s infinite ease-in-out;
}
.steam:nth-child(1){left:-30px}
.steam:nth-child(2){left:0;animation-delay:1s}
.steam:nth-child(3){left:30px;animation-delay:2s}
@keyframes steamUp{
  from{transform:translateY(0);opacity:.6}
  to{transform:translateY(-80px);opacity:0}
}

/* ripple */
.ripple{
  position:absolute;
  width:180px;
  height:180px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.15);
  animation:ripple 3s infinite;
}
@keyframes ripple{
  from{transform:scale(.7);opacity:.4}
  to{transform:scale(1.2);opacity:0}
}

/* ===== APP ===== */
#app{display:none}
.container{width:100%;max-width:420px;padding:20px}
.card{
  background:var(--card);
  border-radius:24px;
  padding:20px;
  box-shadow:0 25px 60px rgba(0,0,0,.35);
}
h2{margin:0}
.sub{font-size:13px;opacity:.7;margin-bottom:10px}

input,select{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid #ccc;
  margin:14px 0;
  font-size:15px;
}

table{width:100%;border-spacing:0 10px}
td.day{font-weight:700}

button{
  margin-top:18px;
  width:100%;
  padding:16px;
  border:none;
  border-radius:18px;
  font-size:16px;
  font-weight:700;
  background:linear-gradient(135deg,#b71c1c,#e53935);
  color:white;
}

.note{font-size:13px;opacity:.65;margin-top:10px}
.footer{text-align:center;font-size:12px;opacity:.6;margin-top:20px}

/* ===== SELECT N·ªîI B·∫¨T ===== */
select.selected{
  border:2px solid transparent;
  background-origin:border-box;
  background-clip:padding-box,border-box;
  animation:borderFlow 2.5s linear infinite;
}
@keyframes borderFlow{
  to{
    background-image:
      linear-gradient(#fff,#fff),
      linear-gradient(360deg,#ff5252,#ffeb3b,#4caf50,#2196f3,#ff5252);
  }
}
select.c1{background:#e8f5e9}
select.c2{background:#fff8e1}
select.c3{background:#ede7f6}
select.c2c{background:#fbe9e7}
select.f{background:#e3f2fd}

/* ===== QU·∫¢N L√ù ===== */
.manager-day{margin-top:14px}
.shift-box{background:#f1f5f9;border-radius:14px;padding:10px;margin-bottom:8px}
.shift-title{font-weight:700;color:#b71c1c}
.staff-chip{
  background:var(--green);
  color:white;
  padding:5px 12px;
  border-radius:999px;
  font-size:13px;
  margin:4px;
}

/* ===== SNOW ===== */
.snow{
  position:fixed;
  top:-10px;
  color:white;
  animation:fall linear forwards;
}
@keyframes fall{to{transform:translateY(110vh);opacity:0}}
</style>
</head>

<body>

<!-- INTRO -->
<div id="splash">
  <div id="splash-inner">
    <div class="ripple"></div>
    <img src="logo.jpg" alt="An Cafe Logo">
    <div class="steam"></div><div class="steam"></div><div class="steam"></div>
    <div class="brand">AN CAF√â</div>
    <div class="loading"><span></span></div>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="container">
    <div class="card">
      <h2>üéÑ ƒêƒÉng k√Ω ca l√†m</h2>
      <div class="sub">Tu·∫ßn hi·ªán t·∫°i ‚Ä¢ An Quy Ch·∫ø</div>

      <input id="name" placeholder="üë§ Nh·∫≠p t√™n (Qu·∫£n l√Ω nh·∫≠p QuanLy)">
      <table id="schedule"></table>

      <button id="submitBtn">üéÖ X√°c nh·∫≠n ƒëƒÉng k√Ω</button>
      <div class="note">Ng√†y kh√¥ng l√†m c√≥ th·ªÉ ƒë·ªÉ tr·ªëng</div>
      <div id="managerPanel"></div>
    </div>
    <div class="footer">¬© 2025 An Quy Ch·∫ø ‚Ä¢ Developed by ƒê√†o ƒêƒÉng T√πng</div>
  </div>
</div>

<script>
/* DARK / LIGHT */
const h=new Date().getHours();
document.body.classList.add(h>=6&&h<18?"light":"dark");

/* INTRO 1 L·∫¶N / NG√ÄY */
const today=new Date().toDateString();
if(localStorage.getItem("introShown")===today){
  splash.style.display="none";
  app.style.display="block";
}else{
  localStorage.setItem("introShown",today);
  setTimeout(()=>app.style.display="block",2500);
}

/* SNOW */
setInterval(()=>{
  const s=document.createElement("div");
  s.className="snow";
  s.textContent="‚ùÑ";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=3+Math.random()*4+"s";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),7000);
},350);

/* SERVICE WORKER */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

<!-- üîí PH·∫¶N FIREBASE + LOGIC ƒêƒÇNG K√ù C·ª¶A B·∫†N GI·ªÆ NGUY√äN -->
</body>
</html>

